<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Modifier Stage</title>
		<link rel="stylesheet" href="../src/CSS/modifier_stage.css">
	</head>
	<body>
		<!-- Navbar -->
		<nav>
			<a href="index.php"><img src="../src/icons/home.png" alt="Accueil">Accueil</a>
			<a href="entreprise.php"><img src="../src/icons/entreprise.png" alt="Entreprise">Entreprise</a>
			<a href="stagiaire.php" class="actif"><img src="../src/icons/stage.png" alt="Stagiaire">Stagiaire</a>
			<a href="inscription.php"><img src="../src/icons/inscrire.png" alt="Inscription">Inscription</a>
			<a href="aide.php"><img src="../src/icons/aide.png" alt="Aide">Aide</a>
			<a href="deconnexion.php"><img src="../src/icons/deconnexion.png" alt="Déconnexion">Déconnexion</a>
		</nav>

		<!-- Contenu principal -->
		<div class="content">
			<h1>Modifier Stage</h1>
			<form action="update_stage.php" method="POST">
				<input
				type="hidden" name="num_stage" value="{{ stage.num_stage }}">

				<!-- Contact -->
				<table>
					<thead>
						<tr>
							<th colspan="2">Contact</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Entreprise</td>
							<td>
								<select name="num_entreprise" required>
									{% for entreprise in entreprises %}
										<option value="{{ entreprise.num_entreprise }}" {% if entreprise.num_entreprise == stage.num_entreprise %} selected {% endif %}>
											{{ entreprise.raison_sociale }}
										</option>
									{% endfor %}
								</select>
							</td>
						</tr>
						<tr>
							<td>Étudiant</td>
							<td>
								<select name="num_etudiant" required>
									{% for etudiant in etudiants %}
										<option value="{{ etudiant.num_etudiant }}" {% if etudiant.num_etudiant == stage.num_etudiant %} selected {% endif %}>
											{{ etudiant.prenom_etudiant }}
											{{ etudiant.nom_etudiant }}
										</option>
									{% endfor %}
								</select>
							</td>
						</tr>
						<tr>
							<td>Professeur</td>
							<td>
								<select name="num_prof" required>
									{% for professeur in professeurs %}
										<option value="{{ professeur.num_prof }}" {% if professeur.num_prof == stage.num_prof %} selected {% endif %}>
											{{ professeur.prenom_prof }}
											{{ professeur.nom_prof }}
										</option>
									{% endfor %}
								</select>
							</td>
						</tr>
					</tbody>
				</table>

				<!-- Description du stage -->
				<table>
					<thead>
						<tr>
							<th colspan="2">Description du Stage</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Date de début de stage</td>
							<td><input type="date" name="debut_stage" value="{{ stage.debut_stage }}" required></td>
						</tr>
						<tr>
							<td>Date de fin de stage</td>
							<td><input type="date" name="fin_stage" value="{{ stage.fin_stage }}" required></td>
						</tr>
						<tr>
							<td>Type de stage</td>
							<td>
								<select name="type_stage" required>
									<option value="stage" {% if stage.type_stage == 'stage' %} selected {% endif %}>Stage</option>
									<option value="alternance" {% if stage.type_stage == 'alternance' %} selected {% endif %}>Alternance</option>
								</select>
							</td>
						</tr>
						<tr>
							<td>Description du projet</td>
							<td>
								<textarea name="desc_projet">{{ stage.desc_projet }}</textarea>
							</td>
						</tr>
						<tr>
							<td>Observation</td>
							<td>
								<textarea name="observation_stage">{{ stage.observation_stage }}</textarea>
							</td>
						</tr>
					</tbody>
				</table>

				<!-- Bouton de modification -->
				<form action="update_stage.php" method="POST">
					<input
					type="hidden" name="num_stage" value="{{ stage.num_stage }}">

					<!-- Other form fields for modifying the stage -->

					<div style="margin-top: 20px;">
						<button type="submit">Modifier</button>
					</div>
				</form>

			</form>
		</div>
	</body>
</html>
